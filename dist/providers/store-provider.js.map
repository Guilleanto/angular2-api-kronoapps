{"version":3,"file":"store-provider.js","sourceRoot":"","sources":["../../src/providers/store-provider.ts"],"names":[],"mappings":";;;;;OAAO,EAAE,UAAU,EAAE,MAAM,eAAe;OACnC,SAAS;OACT,EAAE,IAAI,EAAE,MAAM,eAAe;OAC7B,EAAE,eAAe,EAAE,MAAM,sBAAsB;OAC/C,EAAE,mBAAmB,EAAE,MAAM,yBAAyB;OAGtD,EAAE,WAAW,EAAE,MAAM,iBAAiB;OAGtC,EAAE,UAAU,EAAE,MAAM,sBAAsB;OAC1C,EAAE,YAAY,EAAE,MAAM,wBAAwB;OAC9C,EAAE,aAAa,EAAE,MAAM,yBAAyB;OAChD,EAAE,aAAa,EAAE,MAAM,yBAAyB;OAChD,EAAE,eAAe,EAAE,MAAM,2BAA2B;OACpD,EAAE,WAAW,EAAE,MAAM,uBAAuB;OAC5C,EAAE,cAAc,EAAE,MAAM,0BAA0B;AAGzD;IAAkC,gCAAW;IAmBzC,sBAAmB,IAAU,EAAS,YAAiC;QACnE,kBAAM,IAAI,EAAE,YAAY,CAAC,CAAC;QADX,SAAI,GAAJ,IAAI,CAAM;QAAS,iBAAY,GAAZ,YAAY,CAAqB;QAjBvE,iBAAiB;QACjB,aAAQ,GAAmB,EAAE,CAAC;QAE9B,kBAAkB;QAClB,cAAS,GAAoB,EAAE,CAAC;QAChC,aAAQ,GAAoB,EAAE,CAAC;QAE/B,kCAAkC;QAClC,WAAM,GAAiB,EAAE,CAAC;QAE1B,0BAA0B;QAC1B,eAAU,GAAsB,EAAE,CAAC;QACnC,cAAS,GAAqB,EAAE,CAAC;QAEjC,gBAAgB;QAChB,YAAO,GAAkB,EAAE,CAAC;IAI5B,CAAC;IAED,8DAA8D;IAC9D,+BAAQ,GAAR,UAAS,OAAO,EAAE,OAAO;QAErB,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,OAAO;cACtC,UAAU,EAAE,IAAI,CAAC;aAC3B,SAAS,CAAC,UAAA,SAAS;YAChB,IAAI,KAAK,GAAe,IAAI,UAAU,CAAC,SAAS,CAAC,CAAC;YAClD,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,uEAAuE;IACvE,iCAAU,GAAV,UAAW,OAAO,EAAE,OAAO;QAA3B,iBAmBC;QAjBG,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAElB,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,OAAO;cACtC,kBAAkB,EAAE,IAAI,CAAC;aACnC,SAAS,CAAC,UAAA,OAAO;YACd,GAAG,CAAC,CAAY,UAAsB,EAAtB,KAAe,OAAO,EAAtB,cAAsB,EAAtB,IAAsB,CAAC;gBAAlC,IAAI,GAAG,SAAA;gBACR,IAAI,MAAM,GAAgB,IAAI,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC/C,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC7B;YACD,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QAChC,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,mGAAmG;IACnG,gEAAgE;IAChE,kDAA2B,GAA3B,UAA4B,OAAO,EAAE,OAAO;QAA5C,iBAmBC;QAjBG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,OAAO;YACxC,eAAe,EAAE,IAAI,CAAC;aAC9B,SAAS,CAAC,UAAA,QAAQ;YACf,GAAG,CAAC,CAAa,UAAwB,EAAxB,KAAgB,QAAQ,EAAxB,cAAwB,EAAxB,IAAwB,CAAC;gBAArC,IAAI,IAAI,SAAA;gBACT,IAAI,OAAO,GAAiB,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;gBACnD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC/B;YACD,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QACjC,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,kGAAkG;IAClG,0DAA0D;IAC1D,iDAA0B,GAA1B,UAA2B,aAAa,EAAE,MAAM,EAAE,OAAO;QAAzD,iBAmBC;QAjBG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,aAAa,GAAG,UAAU,GAAG,MAAM;YACpD,SAAS,GAAG,OAAO,GAAG,eAAe,EAAE,IAAI,CAAC;aACpD,SAAS,CAAC,UAAA,QAAQ;YACf,GAAG,CAAC,CAAa,UAAwB,EAAxB,KAAgB,QAAQ,EAAxB,cAAwB,EAAxB,IAAwB,CAAC;gBAArC,IAAI,IAAI,SAAA;gBACT,IAAI,OAAO,GAAiB,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;gBACnD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC/B;YACD,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QACjC,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,uEAAuE;IACvE,kCAAW,GAAX,UAAY,OAAO,EAAE,OAAO;QAA5B,iBAiBC;QAfG,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEpB,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,OAAO;YACxC,aAAa,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;aACnD,SAAS,CAAC,UAAA,aAAa;YACpB,IAAI,QAAQ,GAAkB,IAAI,aAAa,CAAC,aAAa,CAAC,CAAC;YAC/D,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9B,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QAClC,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,uEAAuE;IACvE,kCAAW,GAAX,UAAY,OAAO,EAAE,OAAO;QAA5B,iBAmBC;QAjBG,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,OAAO;YACxC,YAAY,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAClD,SAAS,CAAC,UAAA,QAAQ;YACf,GAAG,CAAC,CAAY,UAAyB,EAAzB,KAAiB,QAAQ,EAAzB,cAAyB,EAAzB,IAAyB,CAAC;gBAArC,IAAI,GAAG,SAAA;gBACR,IAAI,OAAO,GAAkB,IAAI,aAAa,CAAC,GAAG,CAAC,CAAC;gBACpD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC/B;YACD,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QACjC,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,8EAA8E;IAC9E,wCAAwC;IACxC,qCAAc,GAAd,UAAe,OAAO,EAAE,OAAO;QAA/B,iBAmBC;QAjBG,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAErB,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,OAAO;YACxC,eAAe,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;aACrD,SAAS,CAAC,UAAA,UAAU;YACjB,GAAG,CAAC,CAAc,UAA6B,EAA7B,KAAmB,UAAU,EAA7B,cAA6B,EAA7B,IAA6B,CAAC;gBAA3C,IAAI,KAAK,SAAA;gBACV,IAAI,KAAK,GAAoB,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC;gBACxD,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC/B;YACD,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,iFAAiF;IACjF,gCAAS,GAAT,UAAU,OAAO;QAAjB,iBAkBC;QAhBG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QAEjB,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,iBAAiB,EAAE,IAAI,CAAC;aACrD,SAAS,CAAC,UAAA,MAAM;YACb,GAAG,CAAC,CAAc,UAAoB,EAApB,KAAc,MAAM,EAApB,cAAoB,EAApB,IAAoB,CAAC;gBAAlC,IAAI,KAAK,SAAA;gBACV,IAAI,KAAK,GAAe,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;gBAC9C,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC3B;YACD,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAC/B,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,+EAA+E;IAC/E,oCAAa,GAAb,UAAc,OAAO,EAAE,OAAO;QAA9B,iBAmBC;QAjBG,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEpB,wCAAwC;QACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,OAAO;YACrC,cAAc,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;aACvD,SAAS,CAAC,UAAA,UAAU;YACjB,GAAG,CAAC,CAAc,UAA4B,EAA5B,KAAkB,UAAU,EAA5B,cAA4B,EAA5B,IAA4B,CAAC;gBAA1C,IAAI,KAAK,SAAA;gBACV,IAAI,KAAK,GAAmB,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC;gBACtD,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC9B;YACD,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QAClC,CAAC,EAAE,UAAA,KAAK;YACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAEE,uBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,UAAU,EAAE;KACnB,CAAC;IACF,kBAAkB;IACX,2BAAc,GAA6D;QAClF,EAAC,IAAI,EAAE,IAAI,GAAG;QACd,EAAC,IAAI,EAAE,mBAAmB,GAAG;KAC5B,CAAC;IACF,mBAAC;AAAD,CAAC,AAhOD,CAAkC,WAAW,GAgO5C","sourcesContent":["import { Injectable } from '@angular/core';\nimport 'rxjs/Rx';\nimport { Http } from '@angular/http';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { LocalStorageService } from 'angular-2-local-storage';\n\n// Providers\nimport { BaseService } from './base-provider';\n\n// Models\nimport { StoreModel } from '../models/storeModel';\nimport { ProductModel } from '../models/productModel';\nimport { ScheduleModel } from '../models/scheduleModel';\nimport { PaymentsModel } from '../models/paymentsModel';\nimport { DelivStoreModel } from '../models/delivStoreModel';\nimport { BannerModel } from '../models/bannerModel';\nimport { DelivZoneModel } from '../models/delivZoneModel';\n\n\nexport class StoreService extends BaseService {\n\n    // Products array\n    products: ProductModel[] = [];\n\n    // Schedules array\n    schedules: ScheduleModel[] = [];\n    payments: PaymentsModel[] = [];\n\n    // Array to save object storeModel\n    stores: StoreModel[] = [];\n\n    // Forms of delivery array\n    delivStore: DelivStoreModel[] = [];\n    delivZone: DelivZoneModel[] = [];\n\n    // Banners array\n    banners: BannerModel[] = [];\n\n    constructor(public http: Http, public localStorage: LocalStorageService) {\n        super(http, localStorage);\n    }\n\n    // getStore function: obtain information of store Botica Junin\n    getStore(chainId, storeId) {\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('chain/' + chainId + '/store/' + storeId \n                     + '/active/', null)\n            .subscribe(storeData => {\n                var store: StoreModel = new StoreModel(storeData);\n                observer.next(store);\n            }, error => {\n                observer.next(error);\n            });\n        return observer;          \n    }\n\n    // getBanners function: obtain banners from specific store Botica Junin\n    getBanners(chainId, storeId) {\n\n        this.banners = [];\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('chain/' + chainId + '/store/' + storeId \n                     + '/banners/active/', null)\n            .subscribe(banners => {\n                for (var ban of <BannerModel[]>banners) {\n                    var banner: BannerModel = new BannerModel(ban);\n                    this.banners.push(banner);\n                }\n                observer.next(this.banners);\n            }, error => {\n                observer.next(error);\n            });\n        return observer;    \n    }\n\n    // getBestsellersProductsStore function: obtain information of bestsellers products in Botica store\n    //                                       when user is not logged\n    getBestsellersProductsStore(chainId, storeId) {\n\n        this.products = [];\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('chain/' + chainId + '/store/' + storeId + \n                     '/bestsellers/', null)\n            .subscribe(products => {\n                for (var prod of <ProductModel[]>products) {\n                    var product: ProductModel = new ProductModel(prod);\n                    this.products.push(product);\n                }\n                observer.next(this.products);\n            }, error => {\n                observer.next(error);\n            });\n        return observer;   \n    }\n\n    // getBestsellersProductsUser function: obtain information of bestsellers products in Botica store\n    //                                      from specific user\n    getBestsellersProductsUser(applicationId, userId, storeId) {\n\n        this.products = [];\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('application/' + applicationId + '/client/' + userId + \n                     '/store/' + storeId + '/bestsellers/', null)\n            .subscribe(products => {\n                for (var prod of <ProductModel[]>products) {\n                    var product: ProductModel = new ProductModel(prod);\n                    this.products.push(product);\n                }\n                observer.next(this.products);\n            }, error => {\n                observer.next(error);\n            });\n        return observer;   \n    }\n\n    // getSchedule function: obtain information of schedule in Botica store\n    getSchedule(chainId, storeId) {\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.schedules = [];\n\n        this.getBase('chain/' + chainId + '/store/' + storeId + \n                     '/schedules/', this.headerAuthentication())\n            .subscribe(schedulesData => {\n                var schedule: ScheduleModel = new ScheduleModel(schedulesData);\n                this.schedules.push(schedule);\n                observer.next(this.schedules);\n            }, error => {\n                observer.next(error);\n            });\n        return observer; \n    }\n\n    // getSchedule function: obtain information of schedule in Botica store\n    getPayments(chainId, storeId) {\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.payments = [];\n\n        this.getBase('chain/' + chainId + '/store/' + storeId + \n                     '/payments/', this.headerAuthentication())\n            .subscribe(payments => {\n                for (var pay of <PaymentsModel[]>payments) {\n                    var payment: PaymentsModel = new PaymentsModel(pay);\n                    this.payments.push(payment);\n                }\n                observer.next(this.payments);\n            }, error => {\n                observer.next(error);\n            });\n        return observer; \n    }     \n\n    // getDelivStores function: obtain information of existent type of delivery in\n    //                          Botica store\n    getDelivStores(chainId, storeId) {\n\n        this.delivStore = [];\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('chain/' + chainId + '/store/' + storeId + \n                     '/delivstores/', this.headerAuthentication())\n            .subscribe(delivStore => {\n                for (var deliv of <DelivStoreModel[]>delivStore) {\n                    var deliv: DelivStoreModel = new DelivStoreModel(deliv);\n                    this.delivStore.push(deliv);\n                }\n                observer.next(this.delivStore);\n            }, error => {\n                observer.next(error);\n            });\n        return observer; \n    }\n  \n    // getStores function: obtain information of different Botica Junin stores       \n    getStores(chainId) {\n\n        this.stores = [];\n\n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('chain/' + chainId + '/stores/active/', null)\n            .subscribe(stores => {\n                for (var store of <StoreModel[]>stores) {\n                    var store: StoreModel = new StoreModel(store);\n                    this.stores.push(store);\n                }\n                observer.next(this.stores);\n            }, error => {\n                observer.next(error);\n            });\n        return observer; \n    }\n\n    // getDelivZones function: obtain information of different Delivery Krono Zones\n    getDelivZones(chainId, storeId){\n        \n        this.delivZone = [];\n        \n        // Initial value to the observer is null\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('chain/' + chainId + '/store/' + storeId + \n                        '/delivzones/', this.headerAuthentication())\n            .subscribe(delivZones => {\n                for (var deliv of <DelivZoneModel[]>delivZones) {\n                    var deliv: DelivZoneModel = new DelivZoneModel(deliv);\n                    this.delivZone.push(deliv);\n                }\n                observer.next(this.delivZone);\n            }, error => {\n                observer.next(error);\n            });\n        return observer; \n    }\n    \nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: ({type: any, decorators?: DecoratorInvocation[]}|null)[] = [\n{type: Http, },\n{type: LocalStorageService, },\n];\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}