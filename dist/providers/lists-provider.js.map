{"version":3,"file":"lists-provider.js","sourceRoot":"","sources":["../../src/providers/lists-provider.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport 'rxjs/Rx';\nimport { Http } from '@angular/http';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { LocalStorageService } from 'angular-2-local-storage';\n\n// Providers\nimport { BaseService } from './base-provider';\n\n// Models\nimport { ListModelGeneral } from '../models/listModelGeneral';\nimport { ListModelSpecific } from '../models/listModelSpecific';\n\n\nexport class ListsService extends BaseService {\n\n    lists: ListModelGeneral[] = [];\n    list: ListModelSpecific[] = [];\n\n    constructor(public http: Http, public localStorage: LocalStorageService) {\n        super(http, localStorage);\n    }\n\n    // postListBasket function: create, or delete list in\n    //                    specific client\n    postListBasket(payload, task) {\n\n        let observer = new BehaviorSubject(null);\n\n        payload['task'] = task;\n\n        console.log(\"PAYLOAD LIST USER\", payload);\n        this.saveBase('client/store/newlist/basket/', payload, \n                      this.headerAuthentication())\n            .subscribe(data => {\n                observer.next(data);\n            }, error => {\n                observer.next(error);\n            });  \n        return observer;\n    }\n\n\n    // postListOrder function: create, or delete list in\n    //                         specific client\n    postListOrder(payload, task) {\n\n        let observer = new BehaviorSubject(null);\n\n        payload['task'] = task;\n\n        console.log(\"PAYLOAD LIST USER\", payload);\n        this.saveBase('client/store/newlist/order/', payload, \n                      this.headerAuthentication())\n            .subscribe(data => {\n                observer.next(data);\n            }, error => {\n                observer.next(error);\n            });  \n        return observer;\n    }\n\n    // getLists function: obtain all lists of specific user\n    getLists(applicationId, userId, storeId) {\n\n        this.lists = [];\n\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('application/' + applicationId + '/client/' + userId\n                     + '/store/' + storeId + '/lists/', this.headerAuthentication())\n            .subscribe(lists => {\n                for (var list of <ListModelGeneral[]>lists) {\n                    var listClient: ListModelGeneral = new ListModelGeneral(list);\n                    this.lists.push(listClient);\n                }\n                observer.next(this.lists);\n            }, error => {\n                observer.next(error);\n            });\n        return observer;   \n    }\n\n    // getList function: obtain specific list of specific user\n    getList(applicationId, userId, storeId, listId) {\n\n        this.list = [];\n\n        let observer = new BehaviorSubject(null);\n\n        this.getBase('application/' + applicationId + '/client/' + userId\n                     + '/store/' + storeId + '/list/' + listId + '/', this.headerAuthentication())\n            .subscribe(list => {\n                for (var i of list['items']) {\n                    if (i.productId != null) {\n                        i.productId['loadedProduct'] = new BehaviorSubject(null);\n                    }\n                }\n                var listClient: ListModelSpecific = new ListModelSpecific(list);\n                observer.next(listClient);\n            }, error => {\n                observer.next(error);\n            });\n        return observer;   \n    }\n\n    // postListDelete function: post client list to delete in backend\n    postListDelete(payload, task) {\n\n        let observer = new BehaviorSubject(null);\n\n        payload['task'] = task;\n\n        console.log(\"PAYLOAD LIST USER\", payload);\n        this.saveBase('client/store/deletelist/', payload, \n                      this.headerAuthentication())\n            .subscribe(data => {\n                observer.next(data);\n            }, error => {\n                observer.next(error);\n            });  \n        return observer;\n    }\n    \nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: ({type: any, decorators?: DecoratorInvocation[]}|null)[] = [\n{type: Http, },\n{type: LocalStorageService, },\n];\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}